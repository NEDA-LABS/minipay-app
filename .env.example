# =============================================================================
# NedaPay Minipay - Environment Variables Template
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Celo Network Configuration (Minipay)
# -----------------------------------------------------------------------------
# Celo Mainnet RPC URL
NEXT_PUBLIC_CELO_RPC="https://forno.celo.org"

# Celo Alfajores Testnet RPC URL (for development)
NEXT_PUBLIC_CELO_TESTNET_RPC="https://alfajores-forno.celo-testnet.org"

# Alternative Celo RPC providers (optional, for fallback)
# NEXT_PUBLIC_CELO_RPC="https://rpc.ankr.com/celo"
# NEXT_PUBLIC_CELO_RPC="https://1rpc.io/celo"

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL database connection URL
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL="postgresql://user:password@localhost:5432/nedapay_minipay?schema=public"

# Direct database URL (for Prisma migrations)
DIRECT_URL="postgresql://user:password@localhost:5432/nedapay_minipay?schema=public"

# -----------------------------------------------------------------------------
# Redis / Upstash KV Configuration
# -----------------------------------------------------------------------------
# Upstash Redis REST API URL for rate limiting and caching
KV_REST_API_URL="https://your-redis-instance.upstash.io"

# Upstash Redis REST API token
KV_REST_API_TOKEN="your-upstash-token"

# Upstash Redis REST API read-only token
KV_REST_API_READ_ONLY_TOKEN="your-upstash-read-only-token"

# -----------------------------------------------------------------------------
# Supabase Configuration
# -----------------------------------------------------------------------------
# Supabase project URL
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"

# Supabase anonymous key (public, safe to expose in client)
SUPABASE_ANON_KEY="your-supabase-anon-key"

# Supabase service role key (server-side only, keep secret)
NEXT_PUBLIC_SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"

# -----------------------------------------------------------------------------
# Authentication (Optional - Privy for web fallback)
# -----------------------------------------------------------------------------
# Privy App ID (optional, only for non-Minipay browsers)
NEXT_PUBLIC_PRIVY_APP_ID="your-privy-app-id"

# Privy App Secret (server-side only)
PRIVY_APP_SECRET="your-privy-app-secret"

# JWT Secret
JWT_SECRET="your-jwt-secret-key"

# -----------------------------------------------------------------------------
# KYC/KYB Verification
# -----------------------------------------------------------------------------
# Sumsub App Token
SUMSUB_APP_TOKEN="your-sumsub-app-token"

# Sumsub Secret Key
SUMSUB_SECRET_KEY="your-sumsub-secret-key"

# Sumsub Base URL
SUMSUB_BASE_URL="https://api.sumsub.com"

# Sumsub Webhook Secret
SUMSUB_WEBHOOK_SECRET="your-sumsub-webhook-secret"

# -----------------------------------------------------------------------------
# Smile ID (Alternative KYC for Africa)
# -----------------------------------------------------------------------------
# Smile ID Partner ID
SMILE_ID_PARTNER_ID="your-partner-id"

# Smile ID API Key
SMILE_ID_API_KEY="your-api-key"

# Smile ID Sandbox Mode (true for testing)
SMILE_ID_SANDBOX="true"

# -----------------------------------------------------------------------------
# Fiat Off-ramp Providers
# -----------------------------------------------------------------------------
# Paycrest Configuration (for fiat withdrawals)
PAYCREST_CLIENT_ID="your-paycrest-client-id"
PAYCREST_CLIENT_SECRET="your-paycrest-client-secret"
PAYCREST_API_URL="https://api.paycrest.io"

# IDRX Configuration (for Indonesian Rupiah)
IDRXCO_API_KEY="your-idrxco-api-key"
IDRXCO_SECRET_KEY="your-idrxco-secret-key"

# KotaniPay Configuration (for mobile money)
KOTANI_API_BASE="https://api.kotanipay.com"
KOTANI_API_KEY="your-kotanipay-api-key"
KOTANI_API_SECRET="your-kotanipay-api-secret"

# -----------------------------------------------------------------------------
# Email Service Configuration
# -----------------------------------------------------------------------------
# Resend Email Configuration (for notifications)
RESEND_API_KEY="re_your_resend_api_key"
RESEND_FROM_EMAIL="noreply@yourdomain.com"
RESEND_FROM_NAME="NedaPay Minipay"
RESEND_INVOICE_EMAIL="invoices@yourdomain.com"

# EmailJS Configuration (optional, for client-side emails)
NEXT_PUBLIC_EMAILJS_PUBLIC_KEY="your-emailjs-public-key"
NEXT_PUBLIC_EMAILJS_SERVICE_ID="your-emailjs-service-id"
NEXT_PUBLIC_EMAILJS_TEMPLATE_ID="your-emailjs-template-id"

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# Application host URL (for generating payment links)
NEXT_PUBLIC_HOST="https://your-app-url.com"

# Application URL (for ngrok during development)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# HMAC secret for payment link signatures
HMAC_SECRET="your-hmac-secret"

# Encryption key for sensitive data (32-byte hex string)
ENCRYPTION_KEY="your-encryption-key"
IDRX_ENC_KEY="your-32-byte-encryption-key-in-hex"

# -----------------------------------------------------------------------------
# Admin Configuration
# -----------------------------------------------------------------------------
# Admin wallet addresses (for admin access control)
NEXT_PUBLIC_ADMIN1="0x..."
NEXT_PUBLIC_ADMIN2="0x..."
NEXT_PUBLIC_ADMIN3="0x..."

# Admin dashboard password (use a strong password)
# Generate: openssl rand -base64 32
ADMIN_PASSWORD="your-strong-admin-password"

# -----------------------------------------------------------------------------
# Blockchain API Keys (Optional)
# -----------------------------------------------------------------------------
# CeloScan API Key (for contract verification)
NEXT_PUBLIC_CELOSCAN_API_KEY="your-celoscan-api-key"

# ChainBase API Key (for blockchain indexing)
CHAINBASE_API_KEY="your-chainbase-api-key"

# -----------------------------------------------------------------------------
# ODIS (Phone Number Lookup) - Optional for Phase 2
# -----------------------------------------------------------------------------
# ODIS URL for phone number to address mapping
NEXT_PUBLIC_ODIS_URL="https://mainnet-odis.celo.org"

# Data Encryption Key (DEK) private key for ODIS
NEXT_PUBLIC_DEK_PRIVATE_KEY="your-dek-private-key"

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
# Enable/disable features
NEXT_PUBLIC_ENABLE_PROTOCOL="true"

# -----------------------------------------------------------------------------
# Deployment Configuration
# -----------------------------------------------------------------------------
# Node environment (development, production, test)
NODE_ENV="development"

# Netlify deployment flag
NETLIFY="false"

# =============================================================================
# Minipay-Specific Notes
# =============================================================================
# 
# 1. Celo Network Only:
#    - Only NEXT_PUBLIC_CELO_RPC is required
#    - No need for other chain RPCs (Base, Polygon, etc.)
#
# 2. Auto-Connect:
#    - Minipay auto-connects wallet
#    - Privy is optional (only for web fallback)
#
# 3. Testing:
#    - Use ngrok for local Minipay testing
#    - Set NEXT_PUBLIC_APP_URL to your ngrok URL
#
# 4. Production:
#    - Deploy to Netlify or Vercel
#    - Update NEXT_PUBLIC_HOST with production URL
#    - Submit to Minipay app store
#
# =============================================================================
